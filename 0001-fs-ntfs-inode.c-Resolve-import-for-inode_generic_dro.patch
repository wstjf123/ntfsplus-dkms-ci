From 444fa8b220f3e9a91dfe2ba27bf1078b055b91c6 Mon Sep 17 00:00:00 2001
From: shadichy <shadichy@blisslabs.org>
Date: Thu, 23 Oct 2025 01:19:10 +0700
Subject: [PATCH 1/8] fs/ntfs/inode.c: Resolve import for inode_generic_drop
 (temporarily) for kernels older than 6.18

---
 fs/ntfs/inode.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/fs/ntfs/inode.c b/fs/ntfs/inode.c
index 8f93cb3c9f7e..97e0857b2389 100644
--- a/fs/ntfs/inode.c
+++ b/fs/ntfs/inode.c
@@ -9,6 +9,12 @@
 #include <linux/writeback.h>
 #include <linux/seq_file.h>
 
+// Replace inode_generic_drop with generic_drop_inode
+// for backward compatibility with pre 6.18 kernels
+#if LINUX_VERSION_CODE < KERNEL_VERSION(6, 18, 0)
+#define inode_generic_drop generic_drop_inode
+#endif
+
 #include "lcnalloc.h"
 #include "malloc.h"
 #include "time.h"
-- 
2.52.0

